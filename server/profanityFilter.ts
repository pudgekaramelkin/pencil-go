const PROFANITY_LIST = Array.from(
  new Set(
    `
хуй
хуи
хуя
хуёвый
хуевый
хуев
долбаеб
долбоеб
ублюдок
ублюдки
пидор
пидорас
пидоры
ебаные
сосите
выебу
пидарас
ебать
ебал
ебаный
ебаная
хуесоска
долбаебка
пидораска
шлюха
ебу
ёб
сука
суки
блядь
бля
член
члены
соси
сосать
сосешь
сосёт
сосут
сосун
сосунок
соска
трах
трахать
трахаться
трахни
трахнись
трахнул
трахнулась
трахнули
трахну
трахнешь
трахуем
трахун
трахушка
анус
аборт
бздун
беспезды
бздюх
бля
блудилище
блядво
блядеха
блядина
блядистка
блядище
блядки
блядование
блядовать
блядовитый
блядовозка
блядолиз
блядоход
блядский
блядство
блядствовать
блядун
блядь
бляди
бляд
блядюга
блядюра
блядюшка
блядюшник
бордель
вагина
вафлист
вжопить
вжопиться
вздрачивание
вздрачивать
вздрачиваться
вздрочить
вздрочиться
вздрючить
вздрючивание
вздрючивать
взъебка
взъебщик
взъебнуть
взъебнуться
вислозадая
влагалище
вхуйнуть
вхуйнуться
вхуякать
вхуякаться
вхуя
вхуякивать
вхуякиваться
вхуякнуть
вхуякнуться
вхуяривание
вхуяривать
вхуяриваться
вхуярить
вхуяриться
вхуячивание
вхуячивать
вхуячиваться
вхуячить
вхуячиться
вхуяшивать
вхуяшиваться
вхуяшить
вхуяшиться
въебать
въебаться
въебашивать
въебашиваться
въебашить
въебашиться
въебенивать
въебениваться
въебенить
въебениться
выблядок
выебанный
выебат
выебаться
высрать
высраться
выссать
выссаться
высераться
выссереть
говнецо
говнистый
говниться
говно
говновоз
говнодав
говноеб
говноед
говномес
говномер
говносерка
говнюк
голожопая
гомик
гомосек
гондон
гонорея
давалка
двужопник
дерьмо
дерьмоед
дерьмовый
дилдо
додрочить
додрочиться
доебать
доебаться
доебенивать
доебениваться
доебенить
доебениться
долбоеб
допиздить
допиздиться
допиздовать
допиздоваться
допиздовывать
допиздовываться
допиздохать
допиздохаться
допиздохивать
допиздохиваться
допиздошить
допиздошиться
допиздошивать
допиздошиваться
допиздюлить
допиздюлиться
допиздюливать
допиздюливаться
допиздюрить
допиздюриться
допиздюривать
допиздюриваться
допиздюхать
допиздюхаться
допиздюхивать
допиздюхиваться
допиздякать
допиздякаться
допиздякивать
допиздякиваться
допиздишься

допиздярить
допиздяриться
допиздяривать
допиздяриваться
допиздяхать
допиздяхаться
допиздяхивать
допиздяхиваться
допиздячить
допиздячиться
допиздячивать
допиздячиваться
допиздяшить
допиздяшиться
допиздяшивать
допиздяшиваться
допиздоболивать
допиздоболиваться
допиздоболиться
допиздюкать
допиздюкаться
допиздюкивать
допиздюкиваться
допизживать
дотрахать
дотрахаться
дохуйнуть
дохуякать
дохуякаться
дохуякивать
дохуякиваться
дохуяривать
дохуяриваться
дохуярить
дохуяриться
дохуячить
дохуячиться
дохуячивать
дохуячиваться
дрисня
дристать
дристун
дроченье
дрочилыцик
дрочить
дрочиться
дрочка
дрючить
дрючиться
дурак
дуроеб
ебало
ебальник
ебальные
ебальный
ебанатик
ебанашка
ебанутый
ебануть
ебануться
ебать
ебат
ебаться
ебатьс
ебитесь
ебло
еблом
еблысь
ебля
ебнуть
ебнуться
ебня
ебучий
заебла
надроченный
объебешь
поебать
жирнозадый
жопа
жопой
жопастая
жопоеб
жопенци
жопища
жопка
жопник
жополиз
жополизание
жопоногий
жопочка
жопочник
жопство
жопу
забздеть
заблядовать
заблядоваться
задница
задрачивать
задрачиваться
задроченный
задрочить
задрочиться
задрючить
задрючиться
заебанный
заебать
заебаться
заебательская
заебашивать
заебашиваться
заебашить
заебашиться
заебенивать
заебениваться
заебенить
заебениться
залупа
залупу
залупаться
залупенить
залупень
залупить
залупляться
залупистый
запиздарить
запизденная
запизденелый
запиздить
запиздиться
запиздоболивать
запиздоболиваться
запиздоболить
запиздоболиться
запиздовать
запиздоваться
запиздовывать
запиздовываться
запиздохать
запиздошить
запиздошиться
запиздошивать
запиздошиваться
запиздюкать
запиздюкаться
запиздюкивать
запиздюкиваться
запиздюлить
запиздюлиться
запиздюливать
запиздюливаться
запиздюрить
запиздюриться
запиздюривать
запиздюриваться
запиздюхать
запиздюхаться
запиздюхивать
запиздюхиваться
запиздючить
запиздючиться
запиздючивать
запиздючиваться
засранец
засранка
засранный
засратый
засрать
засраться
зассать
затраханный
затрахать
затрахаться
затрахивать
затрахиваться
захуить
захуйнуть
захуйнуться
захуякать
захуякаться
захуякивать
захуякиваться
захуярить
захуяриться
захуяривать
захуяриваться
захуячить
захуячиться
захуячивать
захуячиваться
захуяшить
захуяшиться
захуяшивать
захуяшиваться
злоебучий
издрочиться
измандить
измандиться
измандовать
измандоваться
измандовывать
измандовываться
изъебать
изъебаться
изъебашить
изъебашиться
изъебашивать
изъебашиваться
изъебенить
изъебениться
изъебенивать
изъебениваться
изъеб
испиздеться
испиздить
испражнение
испражняться
исхуякать
исхуякаться
исхуякивать
исхуякиваться
исхуярить
исхуяриться
исхуяривать
какать
какашка
кастрат
кастрировать
клитор
клоака
кнахт
кончить
косоебить
косоебиться
кривохуй
курва
курвиный
лахудра
лох
лохудра
лохматка
манда
мандавошка
мандавоха
мандить
мандиться
мандоватая
мандовать
мандохать
мандохаться
мандохивать
мандохиваться
мандошить
мастурбатор
минет
минетить
минетка
минетчик
минетчица
мозгоеб
мозгоебатель
мозгоебать
мозгоебка
мокрожопый
мокропиздая
моча
мочиться
мудак
мудашвили
мудило
мудильщик
мудистый
мудить
мудоеб
наебанный
наебка
наебщик
наебывать
наебываться
наебыш
набздеть
наблядоваться
надроченный
надрочивать
надрочить
надрочиться
надристать
наебать
наебаться
наебнуть
наебнуться
накакать
накакаться
накакивать
напиздить
напиздошить
напиздюрить
напиздюриться
насрать
насраться
нассать
нассаться
натрахать
натрахаться
натрахивать
натрахиваться
нахуякать
нахуякаться
нахуякивать
нахуякиваться
нахуярить
нахуяриться
нахуяривать
нахуяриваться
нахуячить
нахуячиться
нахуячивать
нахуячиваться
нахуяшить
`.split("\n")
      .map((word) => word.trim())
      .filter(Boolean),
  ),
);

export function containsProfanity(text: string): boolean {
  const normalized = text
    .toLowerCase()
    .replace(/[^a-zа-яё0-9]/g, " ")
    .split(/\s+/)
    .filter((w) => w.length > 0);

  return PROFANITY_LIST.some((word) => {
    const wordLower = word.toLowerCase();
    return normalized.some((w) => w.includes(wordLower) || wordLower.includes(w));
  });
}

export function filterProfanity(text: string): string {
  let filtered = text;
  PROFANITY_LIST.forEach((word) => {
    const escapedWord = word.replace(/[.*+?^${}()|[\]\\]/g, "\\$&");
    const regex = new RegExp(
      `(^|[^а-яёa-z0-9])${escapedWord}([^а-яёa-z0-9]|$)`,
      "gi"
    );
    filtered = filtered.replace(regex, (_, before, after) => {
      return (before || "") + "***" + (after || "");
    });
  });
  return filtered;
}
